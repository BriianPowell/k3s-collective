apiVersion: monitoring.grafana.com/v1alpha2
kind: PodLogs
metadata:
  name: nextcloud-app
  namespace: monitoring
  labels:
    app.kubernetes.io/instance: loki
    app.kubernetes.io/name: loki
spec:
  selector:
    matchLabels:
      app: nextcloud
      component: app
  namespaceSelector:
    matchLabels:
      kubernetes.io/metadata.name: nextcloud
---
apiVersion: monitoring.grafana.com/v1alpha2
kind: PodLogs
metadata:
  name: nextcloud-cron
  namespace: monitoring
  labels:
    app.kubernetes.io/instance: loki
    app.kubernetes.io/name: loki
spec:
  selector:
    matchLabels:
      app: nextcloud
      component: cron
  namespaceSelector:
    matchLabels:
      kubernetes.io/metadata.name: nextcloud
---
apiVersion: monitoring.grafana.com/v1alpha2
kind: PodLogs
metadata:
  name: nextcloud-redis
  namespace: monitoring
  labels:
    app.kubernetes.io/instance: loki
    app.kubernetes.io/name: loki
spec:
  selector:
    matchLabels:
      app: nextcloud
      component: redis
  namespaceSelector:
    matchLabels:
      kubernetes.io/metadata.name: nextcloud
---
apiVersion: monitoring.grafana.com/v1alpha2
kind: PodLogs
metadata:
  name: nextcloud-db
  namespace: monitoring
  labels:
    app.kubernetes.io/instance: loki
    app.kubernetes.io/name: loki
spec:
  selector:
    matchLabels:
      app: nextcloud
      component: postgressql-db
  namespaceSelector:
    matchLabels:
      kubernetes.io/metadata.name: nextcloud
