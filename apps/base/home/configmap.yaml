apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage
  namespace: kube-system
  labels:
    app.kubernetes.io/name: homepage
data:
  kubernetes.yaml: |
    mode: cluster
  settings.yaml: |
    title: Home
    color: zinc
  bookmarks.yaml: |
    - Crypto:
      - Coinbase:
          - icon: https://companieslogo.com/img/orig/COIN-a63dbab3.png?t=1648737284
            href: https://www.coinbase.com/
      - Kraken:
          - icon: https://kryptoguiden.no/wp-content/uploads/2021/03/kraken_logo.png
            href: https://pro.kraken.com/
      - Gemini:
          - icon: https://www.gemini.com/_next/image?url=%2Fstatic%2Fimages%2Fgemini-hor-light-full-rgb%403x.png&w=128&q=75
            href: https://www.gemini.com/
  services.yaml: |
    - Crypto:
      - Market:
        type: coinmarketcap
        currency: USD # Optional
        symbols: [BTC, LTC, ETH]
        key: {{HOMEPAGE_VAR_CRYPTO_MARKET}}
    - Monitoring:
      - Grafana:
          icon: grafana
          href: https://grafana.powell.place
          description:
          ping: https://grafana.powell.place
          target: _blank
      - Prometheus:
          icon: prometheus
          href: https://prometheus.powell.place
          description:
          ping: https://prometheus.powell.place
          target: _blank
      - Alert Manager:
          icon: alertmanager
          href: https://alertmanager.powell.place
          description:
          ping: https://alertmanager.powell.place
          target: _blank
    - Tools:
      - Traefik:
          icon: traefik
          href: https://traefik.powell.place
          description:
          ping: https://traefik.powell.place
          target: _blank
      - Nextcloud:
          icon: nextcloud
          href: https://nextcloud.powell.place
          description:
          ping: https://nextcloud.powell.place
          target: _blank
      - Home Assistant:
          icon: home-assistant
          href: https://ha.powell.place
          description:
          ping: https://ha.powell.place
          target: _blank
      - Wiki:
          icon: https://static.requarks.io/logo/wikijs-butterfly.svg
          href: https://wiki.powell.place
          description:
          ping: https://wiki.powell.place\
          target: _blank
    - Identity:
      - Keycloak:
          icon: keycloak
          href: https://keycloak.powell.place
          description:
          ping: https://keycloak.powell.place
          target: _blank
  widgets.yaml: |
    - resources:
        # change backend to 'kubernetes' to use Kubernetes integration. Requires RBAC.
        backend: kubernetes
        expanded: true
        cpu: true
        memory: true
    - unifi_console:
        url: http://10.0.0.1
        username: {{HOMEPAGE_VAR_UNIFI_LOGIN}}
        password: {{HOMEPAGE_VAR_UNIFI_PASS}}
        site: Collective # optional
    # show the kubernetes widget, with the cluster summary and individual nodes
    - kubernetes:
        cluster:
          show: true
          cpu: true
          memory: true
          showLabel: true
          label: "sheol"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true
    - search:
        provider: duckduckgo
        target: _blank
