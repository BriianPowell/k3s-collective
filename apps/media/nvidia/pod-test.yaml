# apiVersion: v1
# kind: Pod
# metadata:
#   name: nbody-gpu-benchmark
#   namespace: kube-system
# spec:
#   restartPolicy: OnFailure
#   runtimeClassName: nvidia
#   affinity:
#     nodeAffinity:
#       requiredDuringSchedulingIgnoredDuringExecution:
#         nodeSelectorTerms:
#           - matchExpressions:
#               - key: kubernetes.io/hostname
#                 operator: In
#                 values:
#                   - abaddon
#   containers:
#     - name: cuda-container
#       image: nvcr.io/nvidia/k8s/cuda-sample:nbody
#       args: ['nbody', '-gpu', '-benchmark']
#       resources:
#         limits:
#           nvidia.com/gpu: 1
#       env:
#         - name: NVIDIA_VISIBLE_DEVICES
#           value: all
#         - name: NVIDIA_DRIVER_CAPABILITIES
#           value: all
